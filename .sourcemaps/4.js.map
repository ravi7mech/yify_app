{"version":3,"sources":["../../src/pages/search/search.module.ts","../../src/pages/search/search.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SearchPage } from './search';\nimport { LazyLoadImageModule } from 'ng-lazyload-image';\n\n@NgModule({\n  declarations: [\n    SearchPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SearchPage),LazyLoadImageModule\n  ],\n})\nexport class SearchPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.module.ts","import { Component,ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams,ToastController,Searchbar,AlertController } from 'ionic-angular';\nimport { YifyMoviesProvider } from '../../providers/yify-movies/yify-movies';\nimport { Movies } from '../../models/moviesjson';\nimport { SpeechRecognition } from '@ionic-native/speech-recognition';\nimport { LazyLoadImageDirective } from 'ng-lazyload-image';\nimport { HomePage } from '../home/home';\n\n@IonicPage()\n@Component({\n  selector: 'page-search',\n  templateUrl: 'search.html',\n  providers:[LazyLoadImageDirective,HomePage],\n  styles: [`\n  .ng-lazyloaded {\n      animation: fadein .3s;\n  }\n  @keyframes fadein {\n      from { opacity: 0; }\n      to   { opacity: 1; }\n  }\n\n  \n`]\n})\nexport class SearchPage {\n  @ViewChild('searchbar') searchbar:Searchbar;\n  movielist: Movies[] = [];\n  asyncCall: boolean = false;\n  shouldShowCancel: boolean = true;\n  cancelButtonText: string = 'Cancel';\n  animated: boolean = true;\n  options: any = {language : \"en-US\",matches: 5, prompt: \"Speak now !!!\", showPopup: \"true\"};\n  hasMicAccess:boolean = false;\n  hasRecognitionAvailable:boolean = false;\n  textinput:string=\"\";\n  showText:boolean=false;\n  defaultImage = 'https://i.imgur.com/DLkGimY.png';\n  darkui:boolean = true;\n\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    private yifyprovider: YifyMoviesProvider,\n    public speechRecognition: SpeechRecognition,\n    public toastCtrl: ToastController,public homepage:HomePage,\n    public alertcontroller :AlertController) {\n      this.isRecognitionAvailable();\n\n  }\n\n  presentToast(msg:string) {\n    const toast = this.toastCtrl.create({\n      message: msg,\n      position: 'bottom',\n      closeButtonText:'Ok',\n      showCloseButton:true,\n      duration:4000\n    });\n  \n    toast.onDidDismiss(() => {\n      console.log('Dismissed toast');\n    });\n  \n    toast.present();\n}\n  \n\n  startListening() {\n    this.speechRecognition.startListening(this.options)\n      .subscribe(\n      (matches: Array<string>) =>{\n        console.log(matches);\n        this.textinput = matches[0];\n        this.getItems(this.textinput);\n      } ,\n      (onerror) => {\n        console.log('error:', onerror);\n      }\n      )\n\n  }\n\n\n  presentConfirm() {\n    this.requestPermission();\n  }\n\n\n \n\nretryVoiceMessage(msg:string) {\n  const toast = this.toastCtrl.create({\n    message: msg,\n    position: 'bottom',\n    closeButtonText:'Ok',\n    showCloseButton:false,\n    duration:3000\n  });\n\n  toast.onDidDismiss(() => {\n    console.log('Dismissed toast');\n    this.startListening();\n  });\n\n  toast.present();\n}\n\n\n\n  listenmic() {\n\n    if(this.hasMicAccess){\n      this.startListening();\n    }else\n    {\n      this.presentConfirm();\n    }\n  }\n    \n\n  getSupportedLanguages() {\n    this.speechRecognition.getSupportedLanguages()\n      .then(\n      (languages: Array<string>) => console.log(languages),\n      (error) => console.log(error)\n      )\n  }\n\n\n  hasPermission() {\n    this.speechRecognition.hasPermission()\n      .then((hasPermission: boolean)=>{\n        if(!hasPermission){\n          this.hasMicAccess = false;\n        \n        }else{\n          this.hasMicAccess = true;\n        }\n      })\n  }\n\n  requestPermission() {\n    this.speechRecognition.requestPermission()\n      .then(\n      () => {\n        this.hasMicAccess = true;\n        this.startListening();\n\n      },\n      () => {\n        this.hasMicAccess= false;\n      }\n      )\n\n  }\n\n  isRecognitionAvailable() {\n    this.speechRecognition.isRecognitionAvailable()\n      .then((available: boolean) => {\n        if(available){\n          this.hasRecognitionAvailable = true;\n           this.hasPermission();\n        }else{\n          this.hasRecognitionAvailable = false;\n        }\n      })\n  }\n\n\n\n\n  getItems(val:any) {\n   \n   this.showText = false;\n    if (val && val.trim() != '') {\n      this.asyncCall = true;\n      this.yifyprovider.searchYifyMovies(val).subscribe(res => {\n        this.asyncCall = false;\n       \n        if (res.status == 'ok') {\n          this.movielist = res.data.movies;\n          this.searchbar.setFocus();\n        }\n        if(res.data.movie_count == 0)\n        this.showText = true;\n        else\n        this.showText = false;\n\n      });\n    } else {\n      this.movielist = [];\n      this.showText = false;\n    }\n  }\n\n\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad SearchPage');\n  }\n\n\n  openMoviePage(movie: Movies): void {\n    this.navCtrl.push('MoviedetailsPage', { movie });\n\n  }\n\n  shareApp(){\n    this.homepage.shareApp();\n  }\n\n\n  openSettings(){\n    this.navCtrl.push('AppSettingsPage');\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.ts"],"sourceRoot":""}